'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _wif = require('wif');

var _wif2 = _interopRequireDefault(_wif);

var _internal = require('./internal');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getChash160(obj) {
  var sourceString = Array.isArray(obj) && obj.length === 2 && obj[0] === 'autonomous agent' ? (0, _internal.getJsonSourceString)(obj) : (0, _internal.getSourceString)(obj);
  return (0, _internal.chashGetChash160)(sourceString);
}

function toWif(privateKey, testnet) {
  var version = testnet ? 239 : 128;
  return _wif2.default.encode(version, privateKey, false);
}

function fromWif(string, testnet) {
  var version = testnet ? 239 : 128;
  return _wif2.default.decode(string, version);
}

function isValidAddress(address) {
  return typeof address === 'string' && address === address.toUpperCase() && address.length === 32 && (0, _internal.isChashValid)(address);
}

exports.default = {
  getChash160: getChash160,
  toWif: toWif,
  fromWif: fromWif,
  isValidAddress: isValidAddress
};
module.exports = exports.default;